<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Trimint - TRM Mining App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #6a5acd;
            --secondary-color: #9370db;
            --accent-color: #4b0082;
            --background-color: #f5f5f5;
            --card-color: #ffffff;
            --text-color: #333333;
            --text-secondary: #666666;
            --border-color: #e0e0e0;
            --success-color: #4caf50;
            --warning-color: #ff9800;
            --danger-color: #f44336;
            --bronze: #cd7f32;
            --gold: #ffd700;
            --diamond: #b9f2ff;
        }

        [data-theme="dark"] {
            --background-color: #121212;
            --card-color: #1e1e1e;
            --text-color: #e0e0e0;
            --text-secondary: #a0a0a0;
            --border-color: #333333;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
            overflow-x: hidden;
            padding-bottom: 80px;
        }

        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
            transition: opacity 0.5s, visibility 0.5s;
        }

        .loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .loading-logo {
            width: 120px;
            height: 120px;
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .loading-text {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .loading-subtext {
            font-size: 16px;
            opacity: 0.8;
        }

        .referral-notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--success-color);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            display: none;
            animation: slideDown 0.5s forwards;
        }

        @keyframes slideDown {
            from { transform: translate(-50%, -100%); opacity: 0; }
            to { transform: translate(-50%, 0); opacity: 1; }
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            font-weight: bold;
            font-size: 20px;
        }

        .logo img {
            width: 30px;
            height: 30px;
            margin-right: 10px;
        }

        .balance-container {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 20px;
        }

        .balance-icon {
            width: 24px;
            height: 24px;
            margin-right: 8px;
        }

        .balance-amount {
            font-weight: bold;
            font-size: 18px;
        }

        .content {
            padding: 20px;
            min-height: calc(100vh - 140px);
        }

        .section {
            display: none;
            animation: fadeIn 0.3s;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .home-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px 0;
        }

        .coin-container {
            position: relative;
            margin: 30px 0;
        }

        .coin {
            width: 200px;
            height: 200px;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0); }
        }

        .coin.farming {
            animation: rotate 2s linear infinite, float 3s ease-in-out infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .token-animation {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: bold;
            font-size: 18px;
            color: var(--success-color);
            opacity: 0;
            pointer-events: none;
        }

        .token-animation.show {
            animation: tokenFloat 1s forwards;
        }

        @keyframes tokenFloat {
            0% { transform: translate(-50%, -50%); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translate(-50%, -150%); opacity: 0; }
        }

        .farming-info {
            margin: 20px 0;
            padding: 15px;
            background: var(--card-color);
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            width: 100%;
            max-width: 300px;
        }

        .farming-timer {
            font-size: 24px;
            font-weight: bold;
            margin: 10px 0;
            color: var(--primary-color);
        }

        .farming-rate {
            font-size: 16px;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }

        .btn {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn.full-width {
            width: 100%;
            max-width: 300px;
        }

        .btn:disabled {
            background: var(--border-color);
            color: var(--text-secondary);
            cursor: not-allowed;
            transform: none;
        }

        .tasks-section {
            padding: 10px 0;
        }

        .task-card {
            background: var(--card-color);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            transition: transform 0.3s;
        }

        .task-card:hover {
            transform: translateY(-3px);
        }

        .task-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            margin-right: 15px;
            object-fit: cover;
        }

        .task-info {
            flex: 1;
        }

        .task-name {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 5px;
        }

        .task-reward {
            display: flex;
            align-items: center;
            color: var(--success-color);
            font-weight: bold;
        }

        .task-reward img {
            width: 16px;
            height: 16px;
            margin-right: 5px;
        }

        .task-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .task-btn:hover {
            background: var(--accent-color);
        }

        .task-btn:disabled {
            background: var(--border-color);
            color: var(--text-secondary);
            cursor: not-allowed;
        }

        .leaderboard-section {
            padding: 10px 0;
        }

        .leaderboard-tabs {
            display: flex;
            margin-bottom: 20px;
            background: var(--card-color);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .leaderboard-tab {
            flex: 1;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            transition: background 0.3s;
            font-weight: bold;
        }

        .leaderboard-tab.active {
            background: var(--primary-color);
            color: white;
        }

        .leaderboard-list {
            background: var(--card-color);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .leaderboard-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        .leaderboard-item:last-child {
            border-bottom: none;
        }

        .leaderboard-rank {
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            border-radius: 50%;
            background: var(--background-color);
        }

        .leaderboard-rank.top1 {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #333;
        }

        .leaderboard-rank.top2 {
            background: linear-gradient(135deg, #c0c0c0, #e8e8e8);
            color: #333;
        }

        .leaderboard-rank.top3 {
            background: linear-gradient(135deg, #cd7f32, #e6a85c);
            color: #333;
        }

        .leaderboard-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 15px;
            object-fit: cover;
        }

        .leaderboard-info {
            flex: 1;
        }

        .leaderboard-name {
            font-weight: bold;
            margin-bottom: 3px;
        }

        .leaderboard-balance {
            display: flex;
            align-items: center;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .leaderboard-balance img {
            width: 14px;
            height: 14px;
            margin-right: 5px;
        }

        .leaderboard-level {
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: bold;
            color: white;
        }

        .level-bronze {
            background: var(--bronze);
        }

        .level-gold {
            background: var(--gold);
            color: #333;
        }

        .level-diamond {
            background: var(--diamond);
            color: #333;
        }

        .friends-section {
            padding: 10px 0;
        }

        .referral-card {
            background: var(--card-color);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            text-align: center;
        }

        .referral-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .referral-link-container {
            display: flex;
            margin-bottom: 15px;
        }

        .referral-link {
            flex: 1;
            padding: 10px;
            background: var(--background-color);
            border: 1px solid var(--border-color);
            border-radius: 10px 0 0 10px;
            font-size: 14px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .copy-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 0 10px 10px 0;
            cursor: pointer;
            transition: background 0.3s;
        }

        .copy-btn:hover {
            background: var(--accent-color);
        }

        .referral-stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-color);
        }

        .stat-label {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .referrals-list {
            background: var(--card-color);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .referral-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        .referral-item:last-child {
            border-bottom: none;
        }

        .referral-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 15px;
            object-fit: cover;
        }

        .referral-info {
            flex: 1;
        }

        .referral-name {
            font-weight: bold;
            margin-bottom: 3px;
        }

        .referral-earned {
            display: flex;
            align-items: center;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .referral-earned img {
            width: 14px;
            height: 14px;
            margin-right: 5px;
        }

        .profile-section {
            padding: 10px 0;
        }

        .profile-card {
            background: var(--card-color);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin-right: 20px;
            object-fit: cover;
        }

        .profile-info {
            flex: 1;
        }

        .profile-name {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .profile-id {
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .profile-level {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            color: white;
        }

        .profile-stats {
            background: var(--card-color);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .stats-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .stat-card {
            background: var(--background-color);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .stat-card-value {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        .stat-card-label {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .wallet-card {
            background: var(--card-color);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .wallet-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .wallet-address {
            background: var(--background-color);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            word-break: break-all;
            font-family: monospace;
            font-size: 14px;
        }

        .wallet-actions {
            display: flex;
            gap: 10px;
        }

        .settings-card {
            background: var(--card-color);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .settings-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .setting-label {
            font-weight: 500;
        }

        .theme-toggle {
            position: relative;
            width: 50px;
            height: 26px;
            background: var(--border-color);
            border-radius: 13px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .theme-toggle.active {
            background: var(--primary-color);
        }

        .theme-toggle-slider {
            position: absolute;
            top: 3px;
            left: 3px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s;
        }

        .theme-toggle.active .theme-toggle-slider {
            transform: translateX(24px);
        }

        .nav-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: var(--card-color);
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            cursor: pointer;
            transition: color 0.3s;
            padding: 5px;
        }

        .nav-item.active {
            color: var(--primary-color);
        }

        .nav-item i {
            font-size: 20px;
            margin-bottom: 5px;
        }

        .nav-item.home i {
            font-size: 24px;
        }

        .nav-item span {
            font-size: 12px;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--card-color);
            color: var(--text-color);
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            display: none;
            animation: slideIn 0.3s forwards;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        .notification.success {
            border-left: 4px solid var(--success-color);
        }

        .notification.error {
            border-left: 4px solid var(--danger-color);
        }

        .notification.info {
            border-left: 4px solid var(--primary-color);
        }

        .ads-container {
            margin: 20px 0;
            padding: 15px;
            background: var(--card-color);
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            text-align: center;
        }

        .ads-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .ads-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .ads-btn:hover {
            background: var(--accent-color);
        }

        .ads-btn:disabled {
            background: var(--border-color);
            color: var(--text-secondary);
            cursor: not-allowed;
        }

        @media (max-width: 480px) {
            .content {
                padding: 15px;
            }

            .coin {
                width: 150px;
                height: 150px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="loading-screen" id="loadingScreen">
        <img src="https://i.postimg.cc/fTQktNmX/maincoin.png" alt="Trimint" class="loading-logo">
        <div class="loading-text">Trimint</div>
        <div class="loading-subtext">Loading your mining experience...</div>
    </div>

    <div class="referral-notification" id="referralNotification">
        Welcome! You were referred by <span id="referralName"></span>
    </div>

    <header>
        <div class="logo">
            <img src="https://i.postimg.cc/fTQktNmX/maincoin.png" alt="Trimint">
            <span>Trimint</span>
        </div>
        <div class="balance-container">
            <img src="https://i.postimg.cc/fTQktNmX/maincoin.png" alt="TRM" class="balance-icon">
            <span class="balance-amount" id="balanceAmount">0</span>
        </div>
    </header>

    <div class="content">
        <!-- Home Section -->
        <div class="section home-section active" id="homeSection">
            <div class="coin-container">
                <img src="https://i.postimg.cc/fTQktNmX/maincoin.png" alt="TRM" class="coin" id="mainCoin">
                <div class="token-animation" id="tokenAnimation">+0.001 TRM</div>
            </div>
            <div class="farming-info">
                <div class="farming-timer" id="farmingTimer">00:00:00</div>
                <div class="farming-rate">0.001 TRM per second</div>
                <button class="btn full-width" id="farmingBtn">Start Farming</button>
            </div>
        </div>

        <!-- Tasks Section -->
        <div class="section tasks-section" id="tasksSection">
            <div class="ads-container">
                <div class="ads-title">Watch Ads for TRM</div>
                <button class="ads-btn" id="watchAdsBtn">Watch Ads (1 TRM)</button>
            </div>
            <div id="tasksList"></div>
        </div>

        <!-- Leaderboard Section -->
        <div class="section leaderboard-section" id="leaderboardSection">
            <div class="leaderboard-tabs">
                <div class="leaderboard-tab active" data-tab="daily">Daily</div>
                <div class="leaderboard-tab" data-tab="weekly">Weekly</div>
                <div class="leaderboard-tab" data-tab="all">All Time</div>
            </div>
            <div class="leaderboard-list" id="leaderboardList"></div>
        </div>

        <!-- Friends Section -->
        <div class="section friends-section" id="friendsSection">
            <div class="referral-card">
                <div class="referral-title">Invite Friends & Earn TRM</div>
                <div class="referral-link-container">
                    <div class="referral-link" id="referralLink"></div>
                    <button class="copy-btn" id="copyReferralBtn">Copy</button>
                </div>
                <div class="referral-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="totalReferrals">0</div>
                        <div class="stat-label">Total Referrals</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="referralEarnings">0</div>
                        <div class="stat-label">Referral Earnings</div>
                    </div>
                </div>
            </div>
            <div class="referrals-list" id="referralsList"></div>
        </div>

        <!-- Profile Section -->
        <div class="section profile-section" id="profileSection">
            <div class="profile-card">
                <img src="" alt="Profile" class="profile-avatar" id="profileAvatar">
                <div class="profile-info">
                    <div class="profile-name" id="profileName">User</div>
                    <div class="profile-id" id="profileId">ID: 123456789</div>
                    <div class="profile-level level-bronze" id="profileLevel">Bronze</div>
                </div>
            </div>

            <div class="profile-stats">
                <div class="stats-title">Statistics</div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-card-value" id="totalBalance">0</div>
                        <div class="stat-card-label">Total Balance</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-value" id="totalMined">0</div>
                        <div class="stat-card-label">Total Mined</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-value" id="totalFriends">0</div>
                        <div class="stat-card-label">Total Friends</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-value" id="totalTasks">0</div>
                        <div class="stat-card-label">Tasks Completed</div>
                    </div>
                </div>
            </div>

            <div class="wallet-card">
                <div class="wallet-title">TON Wallet</div>
                <div class="wallet-address" id="walletAddress">Not Connected</div>
                <div class="wallet-actions">
                    <button class="btn" id="connectWalletBtn">Connect Wallet</button>
                    <button class="btn" id="disconnectWalletBtn" style="display: none;">Disconnect</button>
                    <button class="btn" id="copyWalletBtn" style="display: none;">Copy Address</button>
                </div>
            </div>

            <div class="settings-card">
                <div class="settings-title">Settings</div>
                <div class="setting-item">
                    <div class="setting-label">Dark Mode</div>
                    <div class="theme-toggle" id="themeToggle">
                        <div class="theme-toggle-slider"></div>
                    </div>
                </div>
                <div class="setting-item">
                    <div class="setting-label">Notifications</div>
                    <div class="theme-toggle" id="notificationToggle">
                        <div class="theme-toggle-slider"></div>
                    </div>
                </div>
                <div class="setting-item">
                    <div class="setting-label">Sound Effects</div>
                    <div class="theme-toggle" id="soundToggle">
                        <div class="theme-toggle-slider"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="nav-bar">
        <div class="nav-item home active" data-section="homeSection">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </div>
        <div class="nav-item" data-section="tasksSection">
            <i class="fas fa-tasks"></i>
            <span>Tasks</span>
        </div>
        <div class="nav-item" data-section="leaderboardSection">
            <i class="fas fa-trophy"></i>
            <span>Leaderboard</span>
        </div>
        <div class="nav-item" data-section="friendsSection">
            <i class="fas fa-user-friends"></i>
            <span>Friends</span>
        </div>
        <div class="nav-item" data-section="profileSection">
            <i class="fas fa-user"></i>
            <span>Profile</span>
        </div>
    </div>

    <div class="notification" id="notification"></div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
    <script src='//libtl.com/sdk.js' data-zone='10290264' data-sdk='show_10290264'></script>

    <script>
        // Initialize Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyAt9PRbvok0g5XL4187btrPvGx6VjfurJU",
            authDomain: "msc-by-shawon.firebaseapp.com",
            projectId: "msc-by-shawon",
            storageBucket: "msc-by-shawon.firebasestorage.app",
            messagingSenderId: "432753389120",
            appId: "1:432753389120:web:dcbb46ca39408a405579a5",
            measurementId: "G-8LHGLJSSEE"
        };

        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Telegram WebApp initialization
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        // User data
        let user = {
            id: tg.initDataUnsafe?.user?.id || 123456789,
            name: tg.initDataUnsafe?.user?.first_name || 'User',
            username: tg.initDataUnsafe?.user?.username || 'user',
            photo: tg.initDataUnsafe?.user?.photo_url || 'https://i.postimg.cc/fTQktNmX/maincoin.png',
            balance: 0,
            totalMined: 0,
            totalFriends: 0,
            totalTasks: 0,
            referrals: [],
            farming: false,
            farmingEndTime: 0,
            level: 'Bronze',
            walletAddress: null,
            tasksCompleted: [],
            notifications: true,
            soundEffects: true
        };

        // TON Connect initialization
        const tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
            manifestUrl: 'https://trimint.vercel.app/tonconnect-manifest.json',
            buttonRootId: null
        });

        // DOM elements
        const sections = document.querySelectorAll('.section');
        const navItems = document.querySelectorAll('.nav-item');
        const balanceAmount = document.getElementById('balanceAmount');
        const farmingBtn = document.getElementById('farmingBtn');
        const farmingTimer = document.getElementById('farmingTimer');
        const mainCoin = document.getElementById('mainCoin');
        const tokenAnimation = document.getElementById('tokenAnimation');
        const loadingScreen = document.getElementById('loadingScreen');
        const referralNotification = document.getElementById('referralNotification');
        const referralName = document.getElementById('referralName');
        const notification = document.getElementById('notification');
        const themeToggle = document.getElementById('themeToggle');
        const notificationToggle = document.getElementById('notificationToggle');
        const soundToggle = document.getElementById('soundToggle');
        const connectWalletBtn = document.getElementById('connectWalletBtn');
        const disconnectWalletBtn = document.getElementById('disconnectWalletBtn');
        const copyWalletBtn = document.getElementById('copyWalletBtn');
        const walletAddress = document.getElementById('walletAddress');
        const profileAvatar = document.getElementById('profileAvatar');
        const profileName = document.getElementById('profileName');
        const profileId = document.getElementById('profileId');
        const profileLevel = document.getElementById('profileLevel');
        const totalBalance = document.getElementById('totalBalance');
        const totalMined = document.getElementById('totalMined');
        const totalFriends = document.getElementById('totalFriends');
        const totalTasks = document.getElementById('totalTasks');
        const referralLink = document.getElementById('referralLink');
        const copyReferralBtn = document.getElementById('copyReferralBtn');
        const totalReferrals = document.getElementById('totalReferrals');
        const referralEarnings = document.getElementById('referralEarnings');
        const referralsList = document.getElementById('referralsList');
        const tasksList = document.getElementById('tasksList');
        const leaderboardList = document.getElementById('leaderboardList');
        const watchAdsBtn = document.getElementById('watchAdsBtn');

        // Check URL parameters for referral
        const urlParams = new URLSearchParams(window.location.search);
        const referrerId = urlParams.get('startapp');

        // Initialize app
        function initApp() {
            // Load user data from Firebase
            database.ref('users/' + user.id).once('value', (snapshot) => {
                if (snapshot.exists()) {
                    const userData = snapshot.val();
                    user = { ...user, ...userData };
                    
                    // Check if user was referred
                    if (referrerId && referrerId !== user.id && !userData.referredBy) {
                        // Process referral
                        processReferral(referrerId);
                    }
                } else if (referrerId && referrerId !== user.id) {
                    // New user with referral
                    processReferral(referrerId);
                }
                
                // Update UI with user data
                updateUserUI();
                
                // Load other data
                loadTasks();
                loadLeaderboard('daily');
                loadReferrals();
                
                // Hide loading screen
                setTimeout(() => {
                    loadingScreen.classList.add('hidden');
                }, 1000);
            });
            
            // Set up event listeners
            setupEventListeners();
            
            // Start farming if it was active
            if (user.farming && user.farmingEndTime > Date.now()) {
                startFarming(true);
            }
            
            // Update farming timer
            updateFarmingTimer();
            setInterval(updateFarmingTimer, 1000);
        }

        // Process referral
        function processReferral(referrerId) {
            // Update user data
            user.referredBy = referrerId;
            database.ref('users/' + user.id).update({ referredBy: referrerId });
            
            // Show referral notification
            database.ref('users/' + referrerId).once('value', (snapshot) => {
                if (snapshot.exists()) {
                    const referrerData = snapshot.val();
                    referralName.textContent = referrerData.name;
                    referralNotification.style.display = 'block';
                    
                    setTimeout(() => {
                        referralNotification.style.display = 'none';
                    }, 5000);
                }
            });
            
            // Add 5000 TRM to referrer
            database.ref('users/' + referrerId).once('value', (snapshot) => {
                if (snapshot.exists()) {
                    const referrerData = snapshot.val();
                    const newBalance = referrerData.balance + 5000;
                    const newTotalFriends = (referrerData.totalFriends || 0) + 1;
                    
                    database.ref('users/' + referrerId).update({
                        balance: newBalance,
                        totalFriends: newTotalFriends
                    });
                    
                    // Add to referrer's referrals list
                    const newReferral = {
                        id: user.id,
                        name: user.name,
                        username: user.username,
                        photo: user.photo,
                        joinedAt: Date.now()
                    };
                    
                    const referrals = referrerData.referrals || [];
                    referrals.push(newReferral);
                    
                    database.ref('users/' + referrerId).update({
                        referrals: referrals
                    });
                }
            });
        }

        // Update user UI
        function updateUserUI() {
            // Update header balance
            balanceAmount.textContent = user.balance.toFixed(3);
            
            // Update profile
            profileAvatar.src = user.photo;
            profileName.textContent = user.name;
            profileId.textContent = `ID: ${user.id}`;
            
            // Update level based on balance
            if (user.balance < 10000) {
                user.level = 'Bronze';
                profileLevel.textContent = 'Bronze';
                profileLevel.className = 'profile-level level-bronze';
            } else if (user.balance < 50000) {
                user.level = 'Gold';
                profileLevel.textContent = 'Gold';
                profileLevel.className = 'profile-level level-gold';
            } else {
                user.level = 'Diamond';
                profileLevel.textContent = 'Diamond';
                profileLevel.className = 'profile-level level-diamond';
            }
            
            // Update stats
            totalBalance.textContent = user.balance.toFixed(3);
            totalMined.textContent = user.totalMined.toFixed(3);
            totalFriends.textContent = user.totalFriends || 0;
            totalTasks.textContent = user.totalTasks || 0;
            
            // Update wallet
            if (user.walletAddress) {
                walletAddress.textContent = user.walletAddress;
                connectWalletBtn.style.display = 'none';
                disconnectWalletBtn.style.display = 'inline-block';
                copyWalletBtn.style.display = 'inline-block';
            }
            
            // Update referral link
            referralLink.textContent = `https://t.me/TrimintBot/mine?startapp=${user.id}`;
            
            // Update referral stats
            totalReferrals.textContent = user.totalFriends || 0;
            referralEarnings.textContent = ((user.totalFriends || 0) * 5000).toFixed(3);
            
            // Update settings
            themeToggle.classList.toggle('active', document.documentElement.getAttribute('data-theme') === 'dark');
            notificationToggle.classList.toggle('active', user.notifications);
            soundToggle.classList.toggle('active', user.soundEffects);
        }

        // Setup event listeners
        function setupEventListeners() {
            // Navigation
            navItems.forEach(item => {
                item.addEventListener('click', () => {
                    const sectionId = item.getAttribute('data-section');
                    
                    // Update active nav item
                    navItems.forEach(navItem => navItem.classList.remove('active'));
                    item.classList.add('active');
                    
                    // Show corresponding section
                    sections.forEach(section => section.classList.remove('active'));
                    document.getElementById(sectionId).classList.add('active');
                });
            });
            
            // Farming button
            farmingBtn.addEventListener('click', () => {
                if (!user.farming) {
                    startFarming();
                }
            });
            
            // Theme toggle
            themeToggle.addEventListener('click', () => {
                const isDark = themeToggle.classList.toggle('active');
                document.documentElement.setAttribute('data-theme', isDark ? 'dark' : 'light');
                
                // Save preference
                user.darkMode = isDark;
                database.ref('users/' + user.id).update({ darkMode: isDark });
            });
            
            // Notification toggle
            notificationToggle.addEventListener('click', () => {
                const isEnabled = notificationToggle.classList.toggle('active');
                user.notifications = isEnabled;
                database.ref('users/' + user.id).update({ notifications: isEnabled });
                
                showNotification(isEnabled ? 'Notifications enabled' : 'Notifications disabled', 'info');
            });
            
            // Sound toggle
            soundToggle.addEventListener('click', () => {
                const isEnabled = soundToggle.classList.toggle('active');
                user.soundEffects = isEnabled;
                database.ref('users/' + user.id).update({ soundEffects: isEnabled });
                
                showNotification(isEnabled ? 'Sound effects enabled' : 'Sound effects disabled', 'info');
            });
            
            // Copy referral link
            copyReferralBtn.addEventListener('click', () => {
                navigator.clipboard.writeText(referralLink.textContent);
                showNotification('Referral link copied to clipboard', 'success');
            });
            
            // Wallet connection
            connectWalletBtn.addEventListener('click', async () => {
                try {
                    const connectedWallet = await tonConnectUI.connectWallet();
                    const address = connectedWallet.account.address;
                    
                    user.walletAddress = address;
                    database.ref('users/' + user.id).update({ walletAddress: address });
                    
                    updateUserUI();
                    showNotification('Wallet connected successfully', 'success');
                } catch (error) {
                    console.error('Wallet connection error:', error);
                    showNotification('Failed to connect wallet', 'error');
                }
            });
            
            // Wallet disconnection
            disconnectWalletBtn.addEventListener('click', async () => {
                try {
                    await tonConnectUI.disconnect();
                    
                    user.walletAddress = null;
                    database.ref('users/' + user.id).update({ walletAddress: null });
                    
                    updateUserUI();
                    showNotification('Wallet disconnected', 'info');
                } catch (error) {
                    console.error('Wallet disconnection error:', error);
                    showNotification('Failed to disconnect wallet', 'error');
                }
            });
            
            // Copy wallet address
            copyWalletBtn.addEventListener('click', () => {
                navigator.clipboard.writeText(walletAddress.textContent);
                showNotification('Wallet address copied to clipboard', 'success');
            });
            
            // Watch ads button
            watchAdsBtn.addEventListener('click', () => {
                watchAdsBtn.disabled = true;
                watchAdsBtn.textContent = 'Loading...';
                
                // Show ads using Monetag
                showAd();
                
                // Simulate ad completion after 5 seconds
                setTimeout(() => {
                    user.balance += 1;
                    user.totalMined += 1;
                    
                    database.ref('users/' + user.id).update({
                        balance: user.balance,
                        totalMined: user.totalMined
                    });
                    
                    updateUserUI();
                    showNotification('You earned 1 TRM from watching ads', 'success');
                    
                    watchAdsBtn.disabled = false;
                    watchAdsBtn.textContent = 'Watch Ads (1 TRM)';
                }, 5000);
            });
            
            // Leaderboard tabs
            document.querySelectorAll('.leaderboard-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.leaderboard-tab').forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    const period = tab.getAttribute('data-tab');
                    loadLeaderboard(period);
                });
            });
        }

        // Start farming
        function startFarming(isResume = false) {
            user.farming = true;
            
            if (!isResume) {
                user.farmingEndTime = Date.now() + 12 * 60 * 60 * 1000; // 12 hours from now
            }
            
            farmingBtn.textContent = 'Farming...';
            farmingBtn.disabled = true;
            mainCoin.classList.add('farming');
            
            database.ref('users/' + user.id).update({
                farming: true,
                farmingEndTime: user.farmingEndTime
            });
            
            // Start farming interval
            if (!window.farmingInterval) {
                window.farmingInterval = setInterval(() => {
                    if (Date.now() >= user.farmingEndTime) {
                        stopFarming();
                    } else {
                        // Add 0.001 TRM per second
                        user.balance += 0.001;
                        user.totalMined += 0.001;
                        
                        // Update UI
                        balanceAmount.textContent = user.balance.toFixed(3);
                        totalBalance.textContent = user.balance.toFixed(3);
                        totalMined.textContent = user.totalMined.toFixed(3);
                        
                        // Show token animation
                        tokenAnimation.classList.add('show');
                        setTimeout(() => {
                            tokenAnimation.classList.remove('show');
                        }, 1000);
                        
                        // Update database every 10 seconds
                        if (Date.now() % 10000 < 1000) {
                            database.ref('users/' + user.id).update({
                                balance: user.balance,
                                totalMined: user.totalMined
                            });
                        }
                    }
                }, 1000);
            }
        }

        // Stop farming
        function stopFarming() {
            user.farming = false;
            
            farmingBtn.textContent = 'Start Farming';
            farmingBtn.disabled = false;
            mainCoin.classList.remove('farming');
            
            database.ref('users/' + user.id).update({
                farming: false,
                farmingEndTime: 0
            });
            
            // Clear farming interval
            if (window.farmingInterval) {
                clearInterval(window.farmingInterval);
                window.farmingInterval = null;
            }
            
            showNotification('Farming completed! Start a new session to continue earning TRM', 'success');
        }

        // Update farming timer
        function updateFarmingTimer() {
            if (user.farming && user.farmingEndTime > Date.now()) {
                const remainingTime = user.farmingEndTime - Date.now();
                const hours = Math.floor(remainingTime / (1000 * 60 * 60));
                const minutes = Math.floor((remainingTime % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((remainingTime % (1000 * 60)) / 1000);
                
                farmingTimer.textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            } else if (user.farming) {
                stopFarming();
                farmingTimer.textContent = '00:00:00';
            } else {
                farmingTimer.textContent = '00:00:00';
            }
        }

        // Load tasks from Firebase
        function loadTasks() {
            database.ref('tasks').once('value', (snapshot) => {
                const tasks = snapshot.val() || {};
                
                // Clear tasks list
                tasksList.innerHTML = '';
                
                // Add watch ads task at the top
                // This is handled in the HTML already
                
                // Add other tasks
                Object.keys(tasks).forEach(taskId => {
                    const task = tasks[taskId];
                    const isCompleted = user.tasksCompleted && user.tasksCompleted.includes(taskId);
                    
                    const taskElement = document.createElement('div');
                    taskElement.className = 'task-card';
                    
                    taskElement.innerHTML = `
                        <img src="${task.icon || 'https://i.postimg.cc/fTQktNmX/maincoin.png'}" alt="${task.name}" class="task-icon">
                        <div class="task-info">
                            <div class="task-name">${task.name}</div>
                            <div class="task-reward">
                                <img src="https://i.postimg.cc/fTQktNmX/maincoin.png" alt="TRM">
                                ${task.reward} TRM
                            </div>
                        </div>
                        <button class="task-btn" data-task-id="${taskId}" data-task-link="${task.link}" ${isCompleted ? 'disabled' : ''}>
                            ${isCompleted ? 'Completed' : 'Open'}
                        </button>
                    `;
                    
                    tasksList.appendChild(taskElement);
                });
                
                // Add event listeners to task buttons
                document.querySelectorAll('.task-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const taskId = e.target.getAttribute('data-task-id');
                        const taskLink = e.target.getAttribute('data-task-link');
                        
                        if (!e.target.disabled) {
                            // Open task link
                            window.open(taskLink, '_blank');
                            
                            // Change button to processing
                            e.target.textContent = 'Processing...';
                            e.target.disabled = true;
                            
                            // After 10 seconds, mark as completed and add reward
                            setTimeout(() => {
                                // Get task reward
                                database.ref('tasks/' + taskId).once('value', (snapshot) => {
                                    if (snapshot.exists()) {
                                        const task = snapshot.val();
                                        const reward = parseFloat(task.reward);
                                        
                                        // Add reward to user balance
                                        user.balance += reward;
                                        user.totalMined += reward;
                                        
                                        // Update tasks completed
                                        if (!user.tasksCompleted) {
                                            user.tasksCompleted = [];
                                        }
                                        user.tasksCompleted.push(taskId);
                                        user.totalTasks = (user.totalTasks || 0) + 1;
                                        
                                        // Update database
                                        database.ref('users/' + user.id).update({
                                            balance: user.balance,
                                            totalMined: user.totalMined,
                                            tasksCompleted: user.tasksCompleted,
                                            totalTasks: user.totalTasks
                                        });
                                        
                                        // Update UI
                                        updateUserUI();
                                        
                                        // Change button to completed
                                        e.target.textContent = 'Completed';
                                        
                                        // Show notification
                                        showNotification(`You earned ${reward} TRM for completing the task`, 'success');
                                    }
                                });
                            }, 10000);
                        } else if (e.target.textContent === 'Completed') {
                            // Still open link if completed
                            window.open(taskLink, '_blank');
                        }
                    });
                });
            });
        }

        // Load leaderboard
        function loadLeaderboard(period) {
            let leaderboardRef;
            
            switch (period) {
                case 'daily':
                    leaderboardRef = database.ref('leaderboard/daily');
                    break;
                case 'weekly':
                    leaderboardRef = database.ref('leaderboard/weekly');
                    break;
                case 'all':
                default:
                    leaderboardRef = database.ref('leaderboard/all');
                    break;
            }
            
            leaderboardRef.once('value', (snapshot) => {
                const leaderboardData = snapshot.val() || {};
                
                // Clear leaderboard list
                leaderboardList.innerHTML = '';
                
                // Convert to array and sort by balance
                const leaderboardArray = Object.keys(leaderboardData).map(userId => {
                    return {
                        id: userId,
                        ...leaderboardData[userId]
                    };
                }).sort((a, b) => b.balance - a.balance).slice(0, 25);
                
                // Add current user if not in top 25
                const currentUserIndex = leaderboardArray.findIndex(u => u.id == user.id);
                if (currentUserIndex === -1) {
                    leaderboardArray.push({
                        id: user.id,
                        name: user.name,
                        photo: user.photo,
                        balance: user.balance,
                        level: user.level
                    });
                }
                
                // Render leaderboard
                leaderboardArray.forEach((user, index) => {
                    const leaderboardItem = document.createElement('div');
                    leaderboardItem.className = 'leaderboard-item';
                    
                    // Determine rank class
                    let rankClass = '';
                    if (index === 0) rankClass = 'top1';
                    else if (index === 1) rankClass = 'top2';
                    else if (index === 2) rankClass = 'top3';
                    
                    // Determine level class
                    let levelClass = 'level-bronze';
                    if (user.level === 'Gold') levelClass = 'level-gold';
                    else if (user.level === 'Diamond') levelClass = 'level-diamond';
                    
                    // Highlight current user
                    if (user.id == this.user.id) {
                        leaderboardItem.style.background = 'rgba(106, 90, 205, 0.1)';
                    }
                    
                    leaderboardItem.innerHTML = `
                        <div class="leaderboard-rank ${rankClass}">${index + 1}</div>
                        <img src="${user.photo || 'https://i.postimg.cc/fTQktNmX/maincoin.png'}" alt="${user.name}" class="leaderboard-avatar">
                        <div class="leaderboard-info">
                            <div class="leaderboard-name">${user.name}</div>
                            <div class="leaderboard-balance">
                                <img src="https://i.postimg.cc/fTQktNmX/maincoin.png" alt="TRM">
                                ${user.balance.toFixed(3)} TRM
                            </div>
                        </div>
                        <div class="leaderboard-level ${levelClass}">${user.level}</div>
                    `;
                    
                    leaderboardList.appendChild(leaderboardItem);
                });
            });
        }

        // Load referrals
        function loadReferrals() {
            // Clear referrals list
            referralsList.innerHTML = '';
            
            if (user.referrals && user.referrals.length > 0) {
                user.referrals.forEach(referral => {
                    const referralItem = document.createElement('div');
                    referralItem.className = 'referral-item';
                    
                    referralItem.innerHTML = `
                        <img src="${referral.photo || 'https://i.postimg.cc/fTQktNmX/maincoin.png'}" alt="${referral.name}" class="referral-avatar">
                        <div class="referral-info">
                            <div class="referral-name">${referral.name}</div>
                            <div class="referral-earned">
                                <img src="https://i.postimg.cc/fTQktNmX/maincoin.png" alt="TRM">
                                5000 TRM earned
                            </div>
                        </div>
                    `;
                    
                    referralsList.appendChild(referralItem);
                });
            } else {
                const noReferrals = document.createElement('div');
                noReferrals.className = 'referral-item';
                noReferrals.style.justifyContent = 'center';
                noReferrals.innerHTML = '<div style="color: var(--text-secondary);">No referrals yet</div>';
                referralsList.appendChild(noReferrals);
            }
        }

        // Show notification
        function showNotification(message, type = 'info') {
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // Show ad using Monetag
        function showAd() {
            // This function would trigger the Monetag ad
            // The actual implementation depends on the Monetag SDK
            if (window.MonetagSDK) {
                window.MonetagSDK.showAd();
            }
        }

        // Update leaderboard data periodically
        function updateLeaderboardData() {
            // Get all users
            database.ref('users').once('value', (snapshot) => {
                const users = snapshot.val() || {};
                
                // Prepare daily leaderboard data
                const dailyLeaderboard = {};
                const weeklyLeaderboard = {};
                const allTimeLeaderboard = {};
                
                // Current time
                const now = Date.now();
                const dayStart = new Date();
                dayStart.setHours(0, 0, 0, 0);
                const dayStartTime = dayStart.getTime();
                
                const weekStart = new Date();
                weekStart.setDate(weekStart.getDate() - weekStart.getDay());
                weekStart.setHours(0, 0, 0, 0);
                const weekStartTime = weekStart.getTime();
                
                // Process users
                Object.keys(users).forEach(userId => {
                    const user = users[userId];
                    
                    // All time leaderboard
                    allTimeLeaderboard[userId] = {
                        name: user.name,
                        photo: user.photo,
                        balance: user.balance || 0,
                        level: user.level || 'Bronze'
                    };
                    
                    // Daily leaderboard (simplified - in a real app, track daily earnings)
                    const dailyEarnings = user.dailyEarnings || (user.balance || 0) * 0.1; // Simplified calculation
                    dailyLeaderboard[userId] = {
                        name: user.name,
                        photo: user.photo,
                        balance: dailyEarnings,
                        level: user.level || 'Bronze'
                    };
                    
                    // Weekly leaderboard (simplified - in a real app, track weekly earnings)
                    const weeklyEarnings = user.weeklyEarnings || (user.balance || 0) * 0.3; // Simplified calculation
                    weeklyLeaderboard[userId] = {
                        name: user.name,
                        photo: user.photo,
                        balance: weeklyEarnings,
                        level: user.level || 'Bronze'
                    };
                });
                
                // Update leaderboard in Firebase
                database.ref('leaderboard/daily').set(dailyLeaderboard);
                database.ref('leaderboard/weekly').set(weeklyLeaderboard);
                database.ref('leaderboard/all').set(allTimeLeaderboard);
            });
        }

        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
        
        // Update leaderboard data every 5 minutes
        setInterval(updateLeaderboardData, 5 * 60 * 1000);
    </script>
</body>
</html>
